// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

$upload-button-size: 53px;
$upload-button-offset: 35px;

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

.xxUpload {
    .xxOverlay {
        z-index: 4500;
    }
}

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

.xxUploadButton {
    position: fixed;
    bottom: $upload-button-offset;
    right: 50%;
    z-index: 5000;
    width: $upload-button-size;
    height: $upload-button-size;
    border-radius: 100%;
    border: 2px solid #fff;
    box-shadow: 0 0 8px rgba(0, 0, 0, .2);
    margin-right: -1 * $page-max-width / 2 - floor($upload-button-size / 2);
    background: $accent-color;
    text-indent: -10000px;
    transition: box-shadow .2s ease-in-out, transform .2s ease-in-out, background .2s ease-in-out;

    @media (max-width: $page-max-width + 2 * ($upload-button-offset + $gutter-width)) {
        right: $upload-button-offset;
        margin-right: 0;
    }

    &:hover {
        box-shadow: 0 0 10px rgba(0, 0, 0, .3);
        transform: rotate(90deg);
    }

    &::before, &::after {
        content: '';
        position: absolute;
        top: ($upload-button-size - 1px) / 2 - 2px;
        left: ($upload-button-size - 19px) / 2 - 2px;
        width: 19px;
        height: 1px;
        background: #fff;
    }

    &::after {
        transform: rotate(90deg);
        transform-origin: 50% 50%;
    }

    .is-open > & {
        box-shadow: 0 0 0 rgba(0, 0, 0, 0);
        background: $quaternary-color;
        transform: rotate(-45deg);

        &:hover {
            transform: rotate(45deg);
        }
    }
}

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

.xxUploadDialog {
    @include clearfix;

    position: absolute;
    bottom: $upload-button-offset + ($upload-button-size - 1px) / 2;
    right: $gutter-width;
    left: $gutter-width;
    max-width: $page-max-width;
    margin: 0 auto;

    @media (max-width: $page-max-width + 2 * ($upload-button-offset + $gutter-width)) {
        right: $upload-button-offset + ($upload-button-size - 1px) / 2;
        margin: 0 0 0 auto;
    }

    .xxTitle {
        margin-bottom: 28px;
    }

    .xxButton {
        width: 100%;
        margin-top: 26px;
    }

    .xxSelect {
        float: left;
        width: calc((99.99% + #{$gutter-width}) * 1/2 - #{$gutter-width});

        + .xxSelect {
            float: right;
        }
    }
}

.xxUploadDialog-inner {
    float: right;
    width: calc((99.99% - #{$gutter-width}) * 1/3 + #{$gutter-width});
    min-width: ($page-min-width - $gutter-width) * 1/3 + $gutter-width;
    padding: $gutter-width $gutter-width 42px;
    background: #fff;
}

// - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
